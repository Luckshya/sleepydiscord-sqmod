#pragma once

// ------------------------------------------------------------------------------------------------
#include <string>
#include <unordered_map>

// ------------------------------------------------------------------------------------------------
#include "Role.h"
#include "ServerMember.h"
#include "Channel.h"

// ------------------------------------------------------------------------------------------------
namespace SqDiscord {

// ------------------------------------------------------------------------------------------------
class Guild {
public:
	std::string ID;
	std::string Name;
	std::string OwnerID;
	std::string Region;
	std::unordered_map<std::string, Role> Roles;
	std::unordered_map<std::string, ServerMember> Members;
	std::unordered_map<std::string, Channel> Channels;

	// ------------------------------------------------------------------------------------------------
	Guild() = default;

	// ------------------------------------------------------------------------------------------------
	Guild(SleepyDiscord::Server &server);

	// ------------------------------------------------------------------------------------------------
	Guild(const Guild &o) = default;

	// ------------------------------------------------------------------------------------------------
	Guild(Guild &&o) = default;

	// ------------------------------------------------------------------------------------------------
	Guild &operator=(const Guild &o) = default;

	// ------------------------------------------------------------------------------------------------
	Guild &operator=(Guild &&o) = default;

	// ------------------------------------------------------------------------------------------------
	~Guild() = default;

	// ------------------------------------------------------------------------------------------------
	void UpdateRoles(std::list<SleepyDiscord::Role> &roles);

	// ------------------------------------------------------------------------------------------------
	void UpdateMembers(std::list<SleepyDiscord::ServerMember> &members);

	// ------------------------------------------------------------------------------------------------
	void UpdateChannels(std::list<SleepyDiscord::Channel> &channels);

	// ------------------------------------------------------------------------------------------------
	std::string GetID() const;

	// ------------------------------------------------------------------------------------------------
	std::string GetName() const;

	// ------------------------------------------------------------------------------------------------
	std::string GetOwnerId() const;

	// ------------------------------------------------------------------------------------------------
	std::string GetRegion() const;

	// ------------------------------------------------------------------------------------------------
	SQInteger GetRoleCount() const;

	// ------------------------------------------------------------------------------------------------
	Array GetRolesArray();

	// ------------------------------------------------------------------------------------------------
	Table GetRolesTable();

	// ------------------------------------------------------------------------------------------------
	SQInteger GetMemberCount() const;

	// ------------------------------------------------------------------------------------------------
	Array GetMembersArray();

	// ------------------------------------------------------------------------------------------------
	Table GetMembersTable();

	// ------------------------------------------------------------------------------------------------
	SQInteger GetChannelCount() const;

	// ------------------------------------------------------------------------------------------------
	Array GetChannelsArray();

	// ------------------------------------------------------------------------------------------------
	Table GetChannelsTable();

	// ------------------------------------------------------------------------------------------------
	static void Register_Guild(Table &table);
};
} // Namespace:: SqDiscord